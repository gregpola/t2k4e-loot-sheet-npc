<section class="ls-gm-section permissions">
    <h2 class="gm-header">
        <i class="ra ra-key"></i> {{localize 'lsnpc.infoboxes.permissions.title'}}
        <i class="fas fa-info-circle" data-theme="lsn-help" title="{{localize 'lsnpc.infoboxes.permissions.content'}}"></i>
    </h2>
    <br/>
    <div class="permissiongrid">
        <main class="bulk">
            <h4>{{localize 'Bulk Update'}}</h4>
            <ul class="permissions-options">
                {{#each actor.data.flags.lootsheetnpct2k4e.permissions as |permission key|}}
                <li class="permission-option {{permission.title}}-border-permission">
                    <a data-value="{{key}}" title="{{permission.title}} : {{permission.description}}">
                        <i class="{{permission.class}}"></i>
                    </a>
                </li>
                {{/each}}
            </ul>
        </main>
        <main class="individual">
            <h4>
                {{localize 'lsnpc.infoboxes.permissions_individual.title'}}
                <i class="fas fa-info-circle" data-theme="lsn-help" title="{{localize 'lsnpc.infoboxes.permissions_individual.content'}}"></i>
            </h4>
            <ol class="permissions-list">
                {{#each actor.data.flags.lootsheetnpct2k4e.players as |player p|}}
                <li class="permission" data-skill="{{player.lootPermission}}">
                    <input type="hidden" name="{{player.playerId}}" value="{{player.lootPermission}}"
                        data-dtype="Number" actor="{{player.actorId}}" />
                    <a class="permission-proficiency"
                        title="{{player.actor}} ({{player.name}}):{{player.lootPermissionDescription}}"
                        data-player-id="{{player.playerId}}" data-player-permission="{{player.lootPermission}}">
                        <img class="permission-player {{player.borderClass}}-border-permission"
                            src="{{player.character.data.img}}" alt="{{player.actor}} ({{player.name}})">
                    </a>
                </li>
                {{/each}}
            </ol>
        </main>
        <aside class="filter flexrow {{#if actor.data.flags.lootsheetnpct2k4e.permissionsFilter}}filter-active{{/if}}">
            <label title="{{actor.data.flags.lootsheetnpct2k4e.permissionsFilter}}">
                <i class="fas fa-filter"></i>
                {{localize 'lsnpc.infoboxes.filter_players.title'}}
                <i class="fas fa-info-circle" data-theme="lsn-help" title="{{localize 'lsnpc.infoboxes.filter_players.content'}}"></i>
            </label>
            <br />
            <select name="flags.lootsheetnpct2k4e.permissionsFilter" class="permissions-filter">
                {{#select actor.data.flags.lootsheetnpct2k4e.permissionsFilter}}
                    <option value="false">No Filter</option>
                    <option value="1">Characters of Players that view the scene.</option>
                    <option value="2">Characters of Players that have a token in the scene.</option>
                    <option value="3"> - " - view the scene & have a token active.</option>
                {{/select}}
            </select>
        </aside>
    </div>
</section>
